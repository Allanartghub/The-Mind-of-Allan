<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>MindSpring | Case Study – Allan Ng'ang'a</title>
  <meta name="description" content="MindSpring case study: emotionally-safe mental wellness companion designed with hypothesis-led MVP decisions and ethical AI." />

  <!-- Fonts aligned with Index vibe -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@500;600;700&family=Open+Sans:wght@400;600;700&display=swap" rel="stylesheet">

  <style>
    :root{
      --teal:#008080;
      --light-teal:#66b2b2;
      --beige:#C89B7B;
      --dark:#1a1a1a;
      --light:#f9f9f9;

      --card:#ffffff;
      --muted:#555;
      --border: rgba(0,0,0,.10);
      --shadow: 0 10px 28px rgba(0,0,0,.08);
      --radius: 16px;

      --font-heading:'Playfair Display', serif;
      --font-body:'Open Sans', system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial;

      --maxw: 1120px;
      --gap: 1.1rem;

      --ease: cubic-bezier(.2,.8,.2,1);
    }

    *{box-sizing:border-box; margin:0; padding:0;}
    html{scroll-behavior:smooth;}
    body{
      font-family: var(--font-body);
      background: var(--light);
      color: var(--dark);
      line-height: 1.65;
      overflow-x:hidden;
    }
    a{color: var(--teal); text-decoration: none;}
    a:hover{opacity:.92; text-decoration: underline;}

    /* Background accents */
    .bg-blob{
      position: fixed;
      width: 520px;
      height: 520px;
      border-radius: 50%;
      filter: blur(64px);
      opacity: .10;
      pointer-events:none;
      z-index: 0;
      transform: translateZ(0);
    }
    .blob-teal{ background: var(--teal); top: -160px; left: -140px; }
    .blob-beige{ background: var(--beige); top: 30vh; right: -180px; }
    .blob-teal-2{ background: var(--light-teal); bottom: -220px; left: 10vw; opacity:.08; }

    /* Header */
    header{
      position: sticky; top:0; z-index: 60;
      background: rgba(249,249,249,.92);
      backdrop-filter: blur(8px);
      border-bottom: 1px solid var(--border);
    }
    .header-wrap{
      max-width: var(--maxw);
      margin: 0 auto;
      padding: .95rem 1.2rem;
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap:1rem;
      position:relative;
      z-index: 2;
    }
    .brand{
      display:flex;
      align-items:center;
      gap:.7rem;
      color: var(--dark);
      font-weight:900;
    }
    .brand .dot{
      width:12px; height:12px;
      border-radius: 999px;
      background: var(--teal);
      box-shadow: 0 0 0 6px rgba(0,128,128,.10);
    }
    .nav-actions{
      display:flex;
      gap:.6rem;
      flex-wrap: wrap;
      justify-content:flex-end;
      align-items:center;
    }

    /* Home icon back button */
    .icon-btn{
      width: 42px;
      height: 42px;
      border-radius: 999px;
      border: 1px solid rgba(0,0,0,.10);
      background:#fff;
      display:inline-flex;
      align-items:center;
      justify-content:center;
      box-shadow: 0 6px 18px rgba(0,0,0,.05);
      transition: transform .18s var(--ease), box-shadow .18s var(--ease), border-color .18s var(--ease);
    }
    .icon-btn:hover{
      transform: translateY(-1px);
      border-color: rgba(0,128,128,.28);
      box-shadow: 0 10px 22px rgba(0,0,0,.10);
      text-decoration:none;
    }
    .icon-btn svg{ width: 20px; height: 20px; stroke: var(--teal); }

    .btn{
      display:inline-flex;
      align-items:center;
      gap:.45rem;
      padding: .55rem .95rem;
      border-radius: 999px;
      border: 1px solid rgba(0,128,128,.28);
      background:#fff;
      color: var(--teal);
      font-weight:900;
      font-size:.95rem;
      text-decoration:none;
      box-shadow: 0 6px 18px rgba(0,0,0,.05);
      transition: transform .18s var(--ease), box-shadow .18s var(--ease), background .18s var(--ease);
      min-height: 42px;
      cursor: pointer;
    }
    .btn.primary{
      background: var(--teal);
      border-color: var(--teal);
      color:#fff;
    }
    .btn:hover{
      transform: translateY(-1px);
      box-shadow: 0 10px 22px rgba(0,0,0,.10);
      text-decoration:none;
    }

    /* Page layout */
    main.container{
      max-width: var(--maxw);
      margin: 0 auto;
      padding: 1.5rem 1.2rem 3rem;
      position:relative;
      z-index: 1;
    }

    /* Hero */
    .hero{
      display:grid;
      grid-template-columns: 1.25fr .75fr;
      gap: calc(var(--gap) * 1.25);
      padding: 1.2rem 0 1rem;
      align-items: start;
    }
    .crumbs{
      color: var(--muted);
      font-size:.95rem;
      margin-bottom: .6rem;
    }
    .title{
      font-family: var(--font-heading);
      color: var(--teal);
      font-size: clamp(2rem, 4vw, 3.1rem);
      line-height:1.12;
      margin-bottom: .7rem;
    }
    .thesis{
      font-size: 1.05rem;
      color: #222;
      max-width: 80ch;
      margin-bottom: 1.05rem;
    }
    .one-liner{
      border-left: 4px solid var(--beige);
      padding: .9rem 1rem;
      background: rgba(200,155,123,.10);
      border-radius: 12px;
      color:#222;
      font-style: italic;
      margin-bottom: 1.1rem;
    }
    .hero-cta{
      display:flex;
      gap:.6rem;
      flex-wrap: wrap;
      margin-top: .2rem;
    }

    /* Panel */
    .panel{
      background: var(--card);
      border:1px solid var(--border);
      border-radius: var(--radius);
      box-shadow: var(--shadow);
      padding: 1.1rem;
    }
    .meta-grid{
      display:grid;
      grid-template-columns: 1fr;
      gap:.75rem;
      margin-top: .35rem;
    }
    .meta{
      border: 1px dashed rgba(0,128,128,.25);
      border-radius: 14px;
      padding: .85rem .9rem;
      background: rgba(0,128,128,.04);
    }
    .meta h4{
      font-size:.78rem;
      letter-spacing:.12em;
      text-transform: uppercase;
      color: var(--muted);
      margin-bottom:.25rem;
    }
    .meta p{font-weight:900; color:#1d1d1d;}

    /* Chips */
    .chips{display:flex; flex-wrap:wrap; gap:.55rem; margin-top:.6rem;}
    .chip{
      background: var(--light-teal);
      color:#fff;
      font-weight:950;
      padding: .38rem .72rem;
      border-radius: 999px;
      font-size:.9rem;
      transition: transform .18s var(--ease), filter .18s var(--ease);
    }
    .chip.alt{background: var(--beige);}
    .chip:hover{transform: translateY(-1px) scale(1.02); filter: brightness(1.02);}

    /* Sticky subnav + progress */
    .subnav-wrap{
      position: sticky;
      top: 76px;
      z-index: 55;
      margin: 1rem 0 1.25rem;
      background: rgba(249,249,249,.92);
      backdrop-filter: blur(8px);
      border: 1px solid var(--border);
      border-radius: 999px;
      box-shadow: 0 10px 28px rgba(0,0,0,.06);
      padding: .65rem .9rem;
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap:1rem;
    }

    .subnav{
      display:flex;
      gap:.65rem;
      overflow-x:auto;
      overflow-y:hidden;
      -webkit-overflow-scrolling: touch;
      scrollbar-width: none;
      position: relative;
      flex: 1;
      min-width: 0;
      padding-right: 54px;
    }
    .subnav::-webkit-scrollbar{display:none;}

    .subnav-fade{
      position: absolute;
      right: 12px;
      top: 8px;
      bottom: 8px;
      width: 44px;
      pointer-events:none;
      background: linear-gradient(90deg, rgba(249,249,249,0), rgba(249,249,249,.96));
      border-radius: 999px;
    }

    .subnav a{
      white-space:nowrap;
      font-weight:900;
      font-size:.93rem;
      padding: .35rem .7rem;
      border-radius: 999px;
      border: 1px solid rgba(0,0,0,.08);
      background:#fff;
      text-decoration:none;
      color:#222;
      transition: transform .18s var(--ease), box-shadow .18s var(--ease), border-color .18s var(--ease), background .18s var(--ease), color .18s var(--ease);
      min-height: 36px;
      display:inline-flex;
      align-items:center;
      flex: 0 0 auto;
    }
    .subnav a:hover{
      transform: translateY(-1px);
      border-color: rgba(0,128,128,.28);
      color: var(--teal);
      text-decoration:none;
      box-shadow: 0 10px 22px rgba(0,0,0,.10);
    }
    .subnav a.active{
      background: rgba(0,128,128,.10);
      border-color: rgba(0,128,128,.35);
      color: var(--teal);
      box-shadow: 0 10px 22px rgba(0,0,0,.10);
    }

    .progress{
      display:flex;
      align-items:center;
      gap:.6rem;
      min-width: 240px;
      justify-content:flex-end;
    }
    .bar{
      width: 120px;
      height: 10px;
      border-radius: 999px;
      background: rgba(0,0,0,.08);
      overflow:hidden;
      border: 1px solid rgba(0,0,0,.08);
    }
    .bar > span{
      display:block;
      height:100%;
      width: 0%;
      background: linear-gradient(90deg, var(--teal), var(--beige));
      transition: width .25s var(--ease);
    }
    .pct{
      font-weight:950;
      color:#222;
      font-size:.92rem;
      min-width: 110px;
      text-align:right;
      line-height:1.1;
    }
    .pct small{
      display:block;
      font-weight:800;
      color: var(--muted);
      font-size:.78rem;
      margin-top:.15rem;
    }

    /* Dividers */
    .divider{
      height: 1px;
      border: 0;
      margin: 1.25rem 0 1.25rem;
      background: linear-gradient(90deg,
        rgba(0,128,128,.0),
        rgba(0,128,128,.22),
        rgba(200,155,123,.22),
        rgba(200,155,123,.0)
      );
    }

    /* Sections */
    section{ margin: 1.6rem 0 2.1rem; }
    .section-title{
      font-family: var(--font-heading);
      font-size: clamp(1.35rem, 2.2vw, 1.85rem);
      margin-bottom: .65rem;
      color:#111;
    }
    .hint{
      color: var(--muted);
      margin-bottom: .9rem;
      max-width: 96ch;
    }

    .grid-2{
      display:grid;
      grid-template-columns: 1fr 1fr;
      gap: var(--gap);
    }
    .grid-3{
      display:grid;
      grid-template-columns: repeat(3, minmax(0,1fr));
      gap: var(--gap);
    }

    .card{
      background: var(--card);
      border: 1px solid var(--border);
      border-radius: var(--radius);
      box-shadow: var(--shadow);
      padding: 1.1rem;
      transition: transform .18s var(--ease), box-shadow .18s var(--ease);
    }
    @media (hover: hover) and (pointer: fine){
      .card:hover{ transform: translateY(-2px); box-shadow: 0 14px 34px rgba(0,0,0,.12); }
    }

    ul{padding-left: 1.1rem;}
    li{margin: .35rem 0;}
    .callout{
      border-left: 4px solid var(--teal);
      padding: .95rem 1rem;
      background: rgba(0,128,128,.06);
      border-radius: 12px;
      color:#222;
    }

    /* Tiles */
    .tile{
      border-radius: var(--radius);
      border: 1px solid rgba(0,0,0,.10);
      background: linear-gradient(135deg, rgba(0,128,128,.08), rgba(200,155,123,.08));
      min-height: 240px;
      display:flex;
      flex-direction:column;
      justify-content:space-between;
      padding: 1rem;
      overflow:hidden;
      position:relative;
    }
    .tile .badge{
      display:inline-flex;
      align-items:center;
      gap:.45rem;
      font-weight:950;
      font-size:.85rem;
      padding:.3rem .55rem;
      border-radius:999px;
      border: 1px solid rgba(0,0,0,.10);
      background: rgba(255,255,255,.7);
      backdrop-filter: blur(6px);
      width: fit-content;
    }
    .tile h3{ margin-top:.6rem; }
    .tile p{ color:#222; margin-top:.35rem; }
    .tile small{ color: var(--muted); font-weight:800; }

    /* ✅ CHANGE 1: show full images (no cropping) */
    .tile img{
      width: 100%;
      height: 260px;              /* gives a consistent frame */
      object-fit: contain;         /* shows whole image */
      background: rgba(255,255,255,.75);
      border-radius: 14px;
      border: 1px solid rgba(0,0,0,.10);
      margin-top: .8rem;
      display:block;
    }
    @media (min-width: 980px){
      .tile img{ height: 300px; }
    }
    /* userflow image can be taller */
    .tile img.userflow{
      height: 360px;
      max-height: 520px;
      object-fit: contain;
      background: rgba(255,255,255,.75);
    }
    @media (min-width: 980px){
      .tile img.userflow{ height: 420px; }
    }

    /* Persona layout */
    .persona{
      display:grid;
      grid-template-columns: 1fr 1.1fr;
      gap: var(--gap);
      align-items:start;
    }

    /* Emma Flip Card */
    .emma-flip{
      border-radius: var(--radius);
      border: 1px solid rgba(0,0,0,.10);
      box-shadow: var(--shadow);
      overflow: hidden;
      background: #fff;
      position: relative;
      cursor: pointer;
      outline: none;
      -webkit-tap-highlight-color: transparent;
      height: 300px;
      width: 100%;
    }
    @media (max-width: 980px){ .emma-flip{ height: 280px; } }
    @media (max-width: 640px){ .emma-flip{ height: 260px; } }

    .emma-inner{
      position: relative;
      width: 100%;
      height: 100%;
      transform-style: preserve-3d;
      transition: transform .65s var(--ease);
    }
    .emma-flip.is-flipped .emma-inner{ transform: rotateY(180deg); }

    .emma-face{
      position: absolute;
      inset: 0;
      backface-visibility: hidden;
      -webkit-backface-visibility: hidden;
    }
    .emma-back{ transform: rotateY(180deg); }
    .emma-face img{
      width: 100%;
      height: 100%;
      object-fit: cover;
      display:block;
    }
    .emma-overlay{
      position: absolute;
      inset: 0;
      display: flex;
      flex-direction: column;
      justify-content: flex-end;
      padding: 1rem;
      background: linear-gradient(180deg, rgba(0,0,0,0) 40%, rgba(0,0,0,.55) 100%);
      color: #fff;
    }
    .emma-name{ font-weight: 980; font-size: 1.15rem; line-height: 1.2; }
    .emma-sub{ margin-top: .2rem; font-weight: 850; opacity: .95; font-size: .95rem; }
    .emma-hint{
      margin-top: .55rem;
      display: inline-flex;
      width: fit-content;
      padding: .28rem .55rem;
      border-radius: 999px;
      font-weight: 950;
      font-size: .82rem;
      background: rgba(255,255,255,.16);
      border: 1px solid rgba(255,255,255,.25);
      backdrop-filter: blur(6px);
    }

    /* Persona expand/collapse */
    .persona-more{
      display:none;
      margin-top:.8rem;
      border-top: 1px solid rgba(0,0,0,.10);
      padding-top:.8rem;
      color:#222;
    }
    .persona-card .toggle{
      margin-top: .85rem;
      display:inline-flex;
      align-items:center;
      gap:.5rem;
      padding: .55rem .85rem;
      border-radius: 999px;
      border: 1px solid rgba(0,128,128,.25);
      background:#fff;
      color: var(--teal);
      font-weight:950;
      cursor:pointer;
      transition: transform .18s var(--ease), box-shadow .18s var(--ease);
      min-height: 42px;
    }
    .persona-card.expanded .persona-more{display:block;}
    .persona-card .toggle svg{ transition: transform .18s var(--ease); }
    .persona-card.expanded .toggle svg{ transform: rotate(180deg); }

    /* Journey timeline */
    .timeline{display:grid; gap:.85rem;}
    .step{
      display:grid;
      grid-template-columns: 28px 1fr;
      gap:.85rem;
      align-items:start;
      opacity: 0;
      transform: translateY(12px);
      transition: opacity .55s var(--ease), transform .55s var(--ease);
    }
    .step.in{ opacity: 1; transform: translateY(0); }
    .dot{
      width: 16px; height: 16px;
      margin-top: .35rem;
      border-radius: 999px;
      background: rgba(0,128,128,.25);
      box-shadow: 0 0 0 6px rgba(0,128,128,.08);
      transition: background .45s var(--ease);
    }
    .step.in .dot{ background: var(--teal); }
    .step h4{margin-bottom:.2rem; font-size: 1.05rem;}
    .insight{color: var(--muted); font-style: italic;}

    /* Metrics */
    .kpis{display:grid; grid-template-columns: repeat(3, minmax(0,1fr)); gap: var(--gap);}
    .kpi{
      background:#fff;
      border: 1px solid rgba(0,128,128,.22);
      border-radius: var(--radius);
      padding: 1rem;
      box-shadow: var(--shadow);
    }
    .kpi .value{
      font-weight: 980;
      font-size: clamp(1.5rem, 2.6vw, 2rem);
      color: var(--teal);
      margin-bottom: .25rem;
    }
    .kpi .label{color:#333; font-weight:900;}
    .kpi .note{color: var(--muted); font-size:.92rem; margin-top:.25rem;}

    /* Scroll reveal */
    .reveal{opacity:0; transform:translateY(14px); transition:opacity .6s var(--ease), transform .6s var(--ease);}
    .reveal.in{opacity:1; transform:translateY(0);}
    .stagger > *{opacity:0; transform:translateY(14px); transition:opacity .6s var(--ease), transform .6s var(--ease);}
    .stagger.in > *{opacity:1; transform:translateY(0);}

    footer{
      margin-top: 2.2rem;
      padding-top: 1.4rem;
      border-top: 1px solid var(--border);
      color: var(--muted);
      text-align:center;
    }

    /* Decision Log Drawer */
    .floating{
      position: fixed;
      right: 18px;
      bottom: 18px;
      z-index: 80;
      display:flex;
      gap:.6rem;
      align-items:center;
    }
    .fab{
      display:inline-flex;
      align-items:center;
      gap:.55rem;
      padding: .7rem .95rem;
      border-radius: 999px;
      border: 1px solid rgba(0,128,128,.25);
      background: #fff;
      color: var(--teal);
      font-weight:980;
      box-shadow: 0 12px 30px rgba(0,0,0,.18);
      cursor:pointer;
      min-height: 52px;
    }
    .fab svg{ width: 18px; height:18px; stroke: var(--teal); }

    .drawer-overlay{
      position: fixed;
      inset: 0;
      background: rgba(0,0,0,.35);
      opacity: 0;
      pointer-events:none;
      transition: opacity .25s var(--ease);
      z-index: 90;
    }
    .drawer{
      position: fixed;
      top: 0;
      right: 0;
      height: 100%;
      width: min(440px, 92vw);
      background: rgba(249,249,249,.96);
      backdrop-filter: blur(10px);
      border-left: 1px solid rgba(0,0,0,.10);
      transform: translateX(105%);
      transition: transform .28s var(--ease);
      z-index: 95;
      display:flex;
      flex-direction:column;
    }
    body.drawer-open .drawer{ transform: translateX(0); }
    body.drawer-open .drawer-overlay{ opacity: 1; pointer-events:auto; }

    .drawer-head{
      padding: 1.1rem 1.1rem .85rem;
      border-bottom: 1px solid rgba(0,0,0,.10);
      display:flex;
      align-items:flex-start;
      justify-content:space-between;
      gap: .8rem;
    }
    .drawer-title{
      font-family: var(--font-heading);
      font-size: 1.35rem;
      color: #111;
      line-height: 1.2;
    }
    .drawer-sub{ color: var(--muted); margin-top:.25rem; font-size:.95rem; }
    .close{
      border: 1px solid rgba(0,0,0,.10);
      background:#fff;
      width: 42px;
      height: 42px;
      border-radius: 999px;
      display:flex;
      align-items:center;
      justify-content:center;
      cursor:pointer;
    }
    .close svg{ width: 18px; height:18px; stroke: #111; }

    .drawer-body{
      padding: 1rem 1.1rem 1.2rem;
      overflow:auto;
      display:grid;
      gap:.85rem;
    }
    .decision{
      background:#fff;
      border: 1px solid rgba(0,0,0,.10);
      border-radius: 16px;
      padding: .95rem .95rem;
      box-shadow: 0 10px 28px rgba(0,0,0,.08);
    }
    .decision h4{ margin-bottom:.25rem; font-size: 1.05rem; color:#111; }
    .decision p{ color:#222; margin-top:.35rem; }
    .decision .meta-row{display:flex; flex-wrap:wrap; gap:.45rem; margin-top:.65rem;}
    .pill{
      font-size:.85rem;
      font-weight:950;
      padding:.28rem .55rem;
      border-radius:999px;
      border: 1px solid rgba(0,0,0,.10);
      background: rgba(0,128,128,.06);
      color: #0a4f4f;
    }
    .pill.beige{
      background: rgba(200,155,123,.10);
      color: #6e3f24;
      border-color: rgba(200,155,123,.20);
    }

    /* Video Modal */
    .modal-overlay{
      position: fixed;
      inset: 0;
      background: rgba(0,0,0,.55);
      opacity: 0;
      pointer-events: none;
      transition: opacity .2s var(--ease);
      z-index: 120;
    }
    .modal{
      position: fixed;
      inset: 0;
      display: grid;
      place-items: center;
      padding: 1rem;
      opacity: 0;
      pointer-events: none;
      transition: opacity .2s var(--ease);
      z-index: 125;
    }
    body.modal-open .modal-overlay,
    body.modal-open .modal{ opacity: 1; pointer-events: auto; }
    .modal-card{
      width: min(960px, 96vw);
      background: rgba(249,249,249,.96);
      border: 1px solid rgba(255,255,255,.14);
      border-radius: 18px;
      box-shadow: 0 18px 60px rgba(0,0,0,.35);
      overflow: hidden;
    }
    .modal-head{
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap:.75rem;
      padding: .85rem 1rem;
      border-bottom: 1px solid rgba(0,0,0,.10);
    }
    .modal-title{ font-weight: 950; color:#111; }
    .modal-close{
      border: 1px solid rgba(0,0,0,.12);
      background:#fff;
      width: 42px;
      height: 42px;
      border-radius: 999px;
      display:flex;
      align-items:center;
      justify-content:center;
      cursor:pointer;
    }
    .modal-body{ padding: 1rem; }

    .video-frame{
      width: 100%;
      background: #000;
      border-radius: 14px;
      overflow: hidden;
      border: 1px solid rgba(0,0,0,.12);
    }
    .video-frame video{
      width: 100%;
      height: auto;
      display:block;
      aspect-ratio: 9 / 16;
      object-fit: contain;
      max-height: 78vh;
    }
    @media (min-width: 900px){
      .video-frame video{
        aspect-ratio: 16 / 9;
        max-height: 70vh;
      }
    }

    @media (max-width: 980px){
      .hero{grid-template-columns: 1fr; }
      .subnav-wrap{top: 72px;}
      .grid-3{grid-template-columns: 1fr 1fr;}
      .persona{grid-template-columns: 1fr;}
      .kpis{grid-template-columns: 1fr 1fr;}
    }
    @media (max-width: 640px){
      .grid-2,.grid-3,.kpis{grid-template-columns: 1fr;}
      .progress{display:none;}
      .fab span{display:none;}
      .fab{padding:.75rem; width: 52px; height: 52px; justify-content:center;}
      .tile{ min-height: 220px; }
      .tile img{ height: 240px; }
      .tile img.userflow{ height: 320px; }
    }
  </style>
</head>

<body>
  <div class="bg-blob blob-teal" aria-hidden="true"></div>
  <div class="bg-blob blob-beige" aria-hidden="true"></div>
  <div class="bg-blob blob-teal-2" aria-hidden="true"></div>

  <header>
    <div class="header-wrap">
      <a class="brand" href="index.html" aria-label="Back to Home">
        <span class="dot" aria-hidden="true"></span>
        <span>Allan Ng'ang'a</span>
      </a>

      <div class="nav-actions">
        <a class="icon-btn" href="index.html" aria-label="Back to index">
          <svg viewBox="0 0 24 24" fill="none" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" aria-hidden="true">
            <path d="M3 10.5L12 3l9 7.5"></path>
            <path d="M5 10v10a1 1 0 0 0 1 1h4v-6h4v6h4a1 1 0 0 0 1-1V10"></path>
          </svg>
        </a>

        <a class="btn" href="index.html#projects">Projects</a>
        <a class="btn" href="assets/docs/Allan%20Ng%27ang%27a%20Associate%20Product%20Manager%20CV%20.pdf" target="_blank" rel="noopener">View CV</a>
        <a class="btn" href="assets/docs/Allan%20Ng%27ang%27a%20Associate%20Product%20Manager%20CV%20.pdf" download>Download CV</a>
        <a class="btn primary" href="mailto:allananganga@gmail.com">Email me</a>
      </div>
    </div>
  </header>

  <main class="container">

    <section class="hero reveal" id="top" data-title="Intro">
      <div>
        <p class="crumbs"><a href="index.html">Home</a> · <a href="index.html#projects">Projects</a> · <span aria-current="page">MindSpring</span></p>
        <h1 class="title">MindSpring</h1>

        <p class="thesis">
          <strong>PM Thesis:</strong> Mental health tools fail not because people don’t care about wellbeing, but because we design them as tasks to complete instead of experiences that feel emotionally safe.
          MindSpring exists to test whether empathy, low-friction habits, and transparent AI can create support without pressure, diagnosis, or noise.
        </p>

        <div class="one-liner">
          We’ve built a generation that is constantly connected, yet increasingly overwhelmed and emotionally isolated, and asking for help still feels heavier than staying silent.
        </div>

        <div class="hero-cta">
          <a class="btn primary" href="#summary">Start the case study</a>
          <a class="btn" href="#screens">Evidence</a>
        </div>

        <div class="chips" aria-label="Key signals">
          <span class="chip">Hypothesis-led</span>
          <span class="chip alt">Ethical AI</span>
          <span class="chip">Privacy-first</span>
        </div>
      </div>

      <aside class="panel" aria-label="Project metadata">
        <h3 style="font-family:var(--font-heading); margin-bottom:.35rem;">Project Snapshot</h3>
        <p style="color:var(--muted); margin-bottom:.8rem;">A PM-first case study showing discovery, decisions, trade-offs, and iteration.</p>

        <div class="meta-grid stagger">
          <div class="meta"><h4>Role</h4><p>Product Lead & Innovation Strategist</p></div>
          <div class="meta"><h4>Context</h4><p>Citi Upstart Challenge · Citi Innovation Labs (Dublin)</p></div>
          <div class="meta"><h4>Audience</h4><p>Students → early-career professionals (continuity by design)</p></div>
          <div class="meta"><h4>Team</h4><p>3 MSc Fintech students (Class of 2025)</p></div>
        </div>
      </aside>
    </section>

    <div class="subnav-wrap reveal" aria-label="Case study navigation">
      <nav class="subnav" id="subnav" aria-label="Section navigation (scroll horizontally on mobile)">
        <a href="#summary">Summary</a>
        <a href="#project-context">Project Context</a>
        <a href="#context">Problem Space</a>
        <a href="#hypothesis">Hypothesis</a>
        <a href="#tradeoffs">Trade-offs</a>
        <a href="#mvp">MVP</a>
        <a href="#screens">Screens</a>
        <a href="#artifacts">Artifacts</a>
        <a href="#persona">Persona</a>
        <a href="#journey">Journey</a>
        <a href="#metrics">Metrics</a>
        <a href="#learnings">Learnings</a>
        <a href="#next">Next</a>
        <a href="#reflection">Reflection</a>
      </nav>
      <span class="subnav-fade" aria-hidden="true"></span>

      <div class="progress" aria-label="Reading progress">
        <div class="bar" aria-hidden="true"><span id="bar"></span></div>
        <div class="pct" id="pct">Intro<small id="pct2">1/14</small></div>
      </div>
    </div>

    <hr class="divider" aria-hidden="true">

    <section id="summary" class="reveal" data-title="Summary">
      <h2 class="section-title">Product Summary</h2>
      <p class="hint">
        MindSpring is a mental wellness companion designed to reduce the emotional friction of checking in with yourself,
        built for students and designed to grow with users into early career life.
      </p>

      <div class="grid-2 stagger">
        <div class="card">
          <h3 style="margin-bottom:.4rem;">In One View</h3>
          <ul>
            <li><strong>Who:</strong> Students → early-career professionals</li>
            <li><strong>Problem:</strong> Support tools feel clinical, noisy, or effort-heavy → disengagement</li>
            <li><strong>Solution:</strong> Gentle check-ins, optional reflection, empathetic AI, privacy-first choices</li>
            <li><strong>Approach:</strong> Emotional safety before intelligence or scale</li>
          </ul>
        </div>

        <div class="card">
          <h3 style="margin-bottom:.4rem;">Why This Exists</h3>
          <p>
            We weren’t trying to “solve mental health.” We were testing whether lowering the emotional cost of reflection
            could create a supportive habit people actually return to.
          </p>
          <div class="callout" style="margin-top:.8rem;">
            At this stage, success was defined by <strong>learning velocity</strong>, not vanity metrics.
          </div>
        </div>
      </div>
    </section>

    <hr class="divider" aria-hidden="true">

    <section id="project-context" class="reveal" data-title="Project Context">
      <h2 class="section-title">Project Context</h2>
      <p class="hint">
        The conditions around the product shaped the product. This section makes the constraints and real-world delivery context explicit.
      </p>

      <div class="grid-2 stagger">
        <div class="card">
          <h3 style="margin-bottom:.35rem;">Timeline & Milestones</h3>
          <ul>
            <li><strong>Started:</strong> November 2024 (Citi Upstart Challenge kickoff)</li>
            <li><strong>Build + iteration:</strong> Nov 2024 → Sep 2025</li>
            <li><strong>Final pitch:</strong> Wednesday, <strong>24 September 2025</strong>, Citi Offices, Dublin</li>
            <li><strong>Selection:</strong> Chosen as <strong>1 of 8 teams</strong> to present to Citi executives, innovators, and incubators</li>
          </ul>
        </div>

        <div class="card">
          <h3 style="margin-bottom:.35rem;">Team & Structure</h3>
          <ul>
            <li><strong>Team size:</strong> 3 students (MSc Fintech Class of 2025)</li>
            <li><strong>My role:</strong> Product Lead & Innovation Strategist</li>
            <li><strong>Operating model:</strong> Rapid discovery → MVP decisions → prototype iteration → pitch refinement</li>
          </ul>
        </div>
      </div>

      <div style="height: var(--gap)"></div>

      <div class="grid-2 stagger">
        <div class="card">
          <h3 style="margin-bottom:.35rem;">Technical Constraints (Real)</h3>
          <ul>
            <li>Limited time for engineering-heavy builds → prototype-first delivery</li>
            <li>Data sensitivity and trust requirements → privacy-first design choices</li>
            <li>AI safety boundaries → reflective tone, no diagnostic claims, no authoritative advice</li>
            <li>Tooling/infra constraints → lean stack and staged testing approach</li>
          </ul>
        </div>

        <div class="card">
          <h3 style="margin-bottom:.35rem;">Stakeholder Management Challenges</h3>
          <ul>
            <li>Aligning “innovation excitement” with “responsible wellness boundaries”</li>
            <li>Defending why we de-scoped high-risk features (e.g., clinical assessments)</li>
            <li>Balancing storytelling for pitch vs accuracy of claims</li>
            <li>Working under feedback cycles from mentors, judges, and peer reviewers</li>
          </ul>
        </div>
      </div>
    </section>

    <hr class="divider" aria-hidden="true">

    <section id="context" class="reveal" data-title="Problem Space">
      <h2 class="section-title">Problem Space & User Context</h2>
      <p class="hint">
        We started with reality, not features. This was a lived environment: pressure, comparison, and quiet burnout,
        with support that often feels harder to access than to avoid.
      </p>

      <div class="grid-2 stagger">
        <div class="card">
          <h3 style="margin-bottom:.35rem;">What We Observed</h3>
          <ul>
            <li>People know they’re struggling but don’t know where to put it.</li>
            <li>Reaching out feels like escalation.</li>
            <li>Most apps demand effort when users have the least energy.</li>
            <li>Trust collapses when data use and AI behavior are unclear.</li>
          </ul>
        </div>
        <div class="card">
          <h3 style="margin-bottom:.35rem;">The Core Insight</h3>
          <p>People don’t avoid self-care because they’re lazy. They avoid it because it asks for more than they can give in the moment.</p>
          <p class="insight" style="margin-top:.55rem;">
            The challenge became: <strong>How might we lower the emotional cost of checking in with yourself?</strong>
          </p>
        </div>
      </div>
    </section>

    <hr class="divider" aria-hidden="true">

    <section id="hypothesis" class="reveal" data-title="Hypothesis">
      <h2 class="section-title">Product Hypothesis & Assumptions</h2>
      <p class="hint">We built to test beliefs, not ship features. These were our highest-risk assumptions.</p>

      <div class="card reveal">
        <h3 style="margin-bottom:.35rem;">Core Hypothesis</h3>
        <p>
          If emotional support feels safe, optional, and low-effort, people are more likely to engage consistently,
          even when they’re tired, overwhelmed, or unsure what they need.
        </p>
      </div>

      <div style="height: var(--gap)"></div>

      <div class="grid-2 stagger">
        <div class="card">
          <h3 style="margin-bottom:.35rem;">Assumptions (Ranked)</h3>
          <ul>
            <li><strong>High:</strong> Emotional safety drives repeat engagement.</li>
            <li><strong>High:</strong> Micro-interactions beat long sessions.</li>
            <li><strong>Med–High:</strong> AI should reflect, not prescribe.</li>
            <li><strong>Medium:</strong> Trust and transparency increase usage.</li>
          </ul>
        </div>
        <div class="card">
          <h3 style="margin-bottom:.35rem;">Failure Conditions</h3>
          <ul>
            <li>Users avoid check-ins after initial curiosity.</li>
            <li>Journaling feels like obligation, not relief.</li>
            <li>AI feels intrusive, performative, or “too clever.”</li>
            <li>Drop-off happens because the product feels like work.</li>
          </ul>
        </div>
      </div>
    </section>

    <hr class="divider" aria-hidden="true">

    <section id="tradeoffs" class="reveal" data-title="Trade-offs">
      <h2 class="section-title">Constraints & Trade-offs</h2>
      <p class="hint">In mental wellness, engagement at any cost is a failure mode. We optimized for trust and responsibility.</p>

      <div class="grid-2 stagger">
        <div class="card">
          <h3 style="margin-bottom:.35rem;">Ethical Constraints</h3>
          <ul>
            <li>No diagnostic language or clinical claims.</li>
            <li>No crisis intervention promises.</li>
            <li>No authoritative AI advice.</li>
            <li>Privacy and consent are explicit, not buried.</li>
          </ul>
        </div>
        <div class="card">
          <h3 style="margin-bottom:.35rem;">What We Deliberately Did Not Build</h3>
          <ul>
            <li>Clinical assessments (risk + misinterpretation).</li>
            <li>Streaks / gamification (pressure and shame).</li>
            <li>Aggressive nudging (emotional boundary violation).</li>
            <li>Open community by default (safety and moderation risk).</li>
          </ul>
        </div>
      </div>
    </section>

    <hr class="divider" aria-hidden="true">

    <section id="mvp" class="reveal" data-title="MVP">
      <h2 class="section-title">MVP Overview</h2>
      <p class="hint">
        The MVP is a lightweight companion focused on awareness, reflection, and pattern recognition,
        without diagnosis, pressure, or exposure.
      </p>

      <div class="grid-3 stagger">
        <div class="card"><h3>Emotional Check-in</h3><p>Embedded in chat. Simple acknowledgement without forcing explanation.</p></div>
        <div class="card"><h3>Journal (Text + Voice)</h3><p>Private reflection. Voice supports low-energy moments when typing is too much.</p></div>
        <div class="card"><h3>AI Companion</h3><p>Reflects patterns and validates feelings. Designed to mirror, not prescribe.</p></div>
        <div class="card"><h3>Wellness Exercises</h3><p>Guided reset tools to recharge, relax and reset (no pressure, short sessions).</p></div>
        <div class="card"><h3>Community Corner</h3><p>Healing together with resources — a compass, not a crowd.</p></div>
        <div class="card"><h3>Consent & Privacy</h3><p>Control is part of the product: clear consent, no hidden surprises.</p></div>
      </div>

      <div class="callout reveal" style="margin-top: var(--gap);">
        This MVP was built to answer one question: <strong>Can support feel light enough to use and serious enough to matter?</strong>
      </div>
    </section>

    <hr class="divider" aria-hidden="true">

    <!-- SCREENS -->
    <section id="screens" class="reveal" data-title="Screens">
      <h2 class="section-title">Screens & Prototype Evidence</h2>
      <p class="hint">Fast proof that the product is real: check-in → conversation → reflection. Plus the user flow.</p>

      <div class="hero-cta" style="margin-bottom: var(--gap);">
        <button class="btn primary" id="openVideo" type="button">▶ Watch walkthrough</button>
        <a class="btn" href="https://miro.com/app/board/uXjVIvzFsXY=/" target="_blank" rel="noopener">View user flow (Miro)</a>
      </div>

      <div class="grid-3 stagger">
        <div class="tile">
          <div class="badge">Screenshot 1 · Emotional Check-in</div>
          <img src="assets/img/mindspring-chat-1.jpeg" alt="Emotional check-in embedded in chat" loading="lazy"/>
          <div>
            <h3>Simple + easy</h3>
            <p>Embedded into chat so users don’t bounce between “features”.</p>
          </div>
        </div>

        <div class="tile">
          <div class="badge">Screenshot 2 · Context-aware Chat</div>
          <img src="assets/img/mindspring-chat-2.jpeg" alt="Context-aware chat that keeps the emotional thread" loading="lazy"/>
          <div>
            <h3>Conversation builds with context</h3>
            <p>Reflective tone, keeps the emotional thread instead of “advice mode”.</p>
          </div>
        </div>

        <div class="tile">
          <div class="badge">Screenshot 3 · Reflection → Next step</div>
          <img src="assets/img/mindspring-chat-3.jpeg" alt="Gentle next step options like reset, journal, or pause" loading="lazy"/>
          <div>
            <h3>Gentle next step</h3>
            <p>Reset / journal / pause — options, not pressure.</p>
          </div>
        </div>
      </div><!-- closes grid-3 -->

      <div style="height: var(--gap)"></div>

      <div class="grid-2 stagger">
        <div class="tile" style="min-height: 220px;">
          <div class="badge">User Flow (Image)</div>
          <img class="userflow" src="assets/img/mindspring-userflow.png" alt="MindSpring userflow" loading="lazy"/>
          <div>
            <h3>Flow export</h3>
            <p>End-to-end experience mapping (systems thinking proof).</p>
          </div>
        </div>

        <!-- ✅ CHANGE 2: removed the entire "Walkthrough + artifacts" tile -->
      </div>
    </section>

    <hr class="divider" aria-hidden="true">

    <section id="artifacts" class="reveal" data-title="Artifacts">
      <h2 class="section-title">Process Artifacts</h2>
      <p class="hint">Evidence that you think like a PM: insight → decision → build.</p>

      <div class="grid-3 stagger artifacts">
        <div class="tile">
          <div class="badge">Artifact · User Flow</div>
          <div>
            <h3>Experience mapping</h3>
            <p>From emotional check-in to reflection and support outcomes.</p>
            <small>Backed by Miro + export image.</small>
          </div>
        </div>

        <div class="tile">
          <div class="badge">Artifact · MVP Decisions</div>
          <div>
            <h3>What we built first</h3>
            <p>Why check-in and chat came before “more features”.</p>
            <small>Decision Log supports this.</small>
          </div>
        </div>

        <div class="tile">
          <div class="badge">Artifact · Responsible AI</div>
          <div>
            <h3>Boundaries + tone</h3>
            <p>No diagnosis. No authority. Reflective, safe language.</p>
            <small>Trust is a feature.</small>
          </div>
        </div>
      </div>
    </section>

    <hr class="divider" aria-hidden="true">

    <section id="persona" class="reveal" data-title="Persona">
      <h2 class="section-title">Primary Persona</h2>
      <p class="hint">We grounded the experience in a real pattern we observed repeatedly, represented here as Emma.</p>

      <div class="persona">
        <div class="emma-flip reveal" id="emmaFlip" role="button" tabindex="0" aria-label="Emma flip card. Click to flip.">
          <div class="emma-inner">
            <div class="emma-face emma-front">
              <img src="assets/img/mindspring-emma-happy.png" alt="Emma feeling grounded in a campus café">
              <div class="emma-overlay">
                <div class="emma-name">Emma · 22</div>
                <div class="emma-sub">Final-year student → early career transition</div>
                <div class="emma-hint">Tap to flip</div>
              </div>
            </div>

            <div class="emma-face emma-back">
              <img src="assets/img/mindspring-emma-stressed.png" alt="Emma under pressure in the same café at night">
              <div class="emma-overlay">
                <div class="emma-name">Same Emma.</div>
                <div class="emma-sub">Different day. More weight to carry.</div>
                <div class="emma-hint">Tap to flip</div>
              </div>
            </div>
          </div>
        </div>

        <div class="card persona-card reveal" id="personaCard">
          <h3 style="margin-bottom:.35rem;">Emma’s Reality</h3>
          <ul>
            <li>High expectations, low emotional bandwidth</li>
            <li>Hesitates to seek help unless it feels “serious enough”</li>
            <li>Needs privacy, autonomy, and a non-clinical tone</li>
          </ul>
          <p class="insight" style="margin-top:.6rem;">
            Core tension: Emma doesn’t want to be “fixed.” She wants a place to pause, without having to explain herself.
          </p>

          <button class="toggle" type="button" id="personaToggle" aria-expanded="false">
            <span>Read the deeper persona</span>
            <svg viewBox="0 0 24 24" fill="none" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" aria-hidden="true">
              <path d="M6 9l6 6 6-6"></path>
            </svg>
          </button>

          <div class="persona-more" id="personaMore">
            <h4 style="margin-bottom:.35rem;">Goals</h4>
            <ul>
              <li>Feel more in control of emotional patterns</li>
              <li>Find relief without “performing vulnerability”</li>
              <li>Build a habit that survives busy weeks</li>
            </ul>

            <h4 style="margin:.75rem 0 .35rem;">Fears</h4>
            <ul>
              <li>Being judged or “diagnosed” by a tool</li>
              <li>Data used in ways she didn’t consent to</li>
              <li>Shame from streaks or missed days</li>
            </ul>

            <h4 style="margin:.75rem 0 .35rem;">Moments of Truth</h4>
            <ul>
              <li>Can she check in without explaining?</li>
              <li>Does the AI feel human, not clever?</li>
              <li>Can she skip days without penalty?</li>
            </ul>
          </div>
        </div>
      </div>
    </section>

    <hr class="divider" aria-hidden="true">

    <section id="journey" class="reveal" data-title="Journey">
      <h2 class="section-title">User Journey</h2>
      <p class="hint">A simple sequence that respects emotional readiness and makes reflection optional.</p>

      <div class="card">
        <div class="timeline" id="timeline">
          <div class="step"><div class="dot" aria-hidden="true"></div><div><h4>1) Before Use</h4><p>Overwhelmed, but not labeling it. Coping quietly. Postponing reflection.</p><p class="insight">Insight: the hardest step is not journaling, it’s starting.</p></div></div>
          <div class="step"><div class="dot" aria-hidden="true"></div><div><h4>2) Emotional Check-in</h4><p>One small action to name the moment — no forms, no “assessment”.</p></div></div>
          <div class="step"><div class="dot" aria-hidden="true"></div><div><h4>3) Reflection (Optional)</h4><p>Text or voice. Some days she skips it, and that’s valid by design.</p></div></div>
          <div class="step"><div class="dot" aria-hidden="true"></div><div><h4>4) AI Companion</h4><p>Mirrors patterns gently. No advice. No diagnosis. No urgency.</p></div></div>
          <div class="step"><div class="dot" aria-hidden="true"></div><div><h4>5) Outcome</h4><p>Not instant relief, but feeling seen, and returning. That return is the win.</p></div></div>
        </div>
      </div>
    </section>

    <hr class="divider" aria-hidden="true">

    <section id="metrics" class="reveal" data-title="Metrics">
      <h2 class="section-title">Validation & Metrics</h2>
      <p class="hint">We measured signals that indicate emotional safety and habit formation, not hype.</p>

      <div class="kpis stagger">
        <div class="kpi"><div class="value">Leading</div><div class="label">Engagement signals</div><div class="note">Check-in frequency · repeat sessions · reflection rate</div></div>
        <div class="kpi"><div class="value">Lagging</div><div class="label">Trust & usefulness</div><div class="note">AI tone trust · perceived support · self-reported clarity</div></div>
        <div class="kpi"><div class="value">Focus</div><div class="label">Learning velocity</div><div class="note">Fast iteration loops over vanity growth metrics</div></div>
      </div>
    </section>

    <hr class="divider" aria-hidden="true">

    <section id="learnings" class="reveal" data-title="Learnings">
      <h2 class="section-title">Key Learnings</h2>
      <p class="hint">What surprised us, what didn’t work, and what it changed in our product thinking.</p>

      <div class="grid-2 stagger">
        <div class="card">
          <h3>What Surprised Me</h3>
          <ul>
            <li>Less functionality led to more trust.</li>
            <li>Silence (not nudging) was sometimes the best UX choice.</li>
          </ul>
        </div>
        <div class="card">
          <h3>What Didn’t Work as Expected</h3>
          <ul>
            <li>Some users skipped journaling, but still benefited from check-ins.</li>
            <li>Over-prompting reflection increased drop-off.</li>
          </ul>
        </div>
      </div>

      <div class="callout reveal" style="margin-top: var(--gap);">
        In emotionally sensitive products, <strong>restraint is a feature</strong>, not a compromise.
      </div>
    </section>

    <hr class="divider" aria-hidden="true">

    <section id="next" class="reveal" data-title="Next">
      <h2 class="section-title">What I’d Do Next</h2>
      <p class="hint">Strategic iteration: deepen what works, remove what harms, expand responsibly.</p>

      <div class="grid-2 stagger">
        <div class="card"><h3>Immediate</h3><ul><li>Improve pattern recognition (trends over time, not daily scoring).</li><li>Increase AI explainability and tone control.</li><li>Expand testing into early-career contexts.</li></ul></div>
        <div class="card"><h3>Medium-term</h3><ul><li>Adaptive prompts based on behavior (not generic reminders).</li><li>Safer community frameworks and moderation tooling.</li><li>Partnership pilots with support services.</li></ul></div>
      </div>
    </section>

    <hr class="divider" aria-hidden="true">

    <section id="reflection" class="reveal" data-title="Reflection">
      <h2 class="section-title">Reflection</h2>
      <p class="hint">What this project brought out in me, as a PM, a builder, and a responsible product thinker.</p>

      <div class="card reveal">
        <p>
          MindSpring forced me to operate at the intersection of empathy, ethics, and execution. I led ambiguity without rushing to solutions,
          made trade-offs that prioritized trust over engagement metrics, and stepped into building (prototyping + technical collaboration)
          to move faster and communicate better with engineers.
        </p>
        <p style="margin-top:.7rem;">
          Technology scales intent. If we’re careless about intent, we scale harm just as efficiently as value.
          This is why I choose to shape products sustainably and ethically, especially in sensitive domains.
        </p>

        <div class="hero-cta" style="margin-top: 1rem;">
          <a class="btn primary" href="#top">Back to top</a>
          <a class="btn" href="index.html#projects">More projects</a>
        </div>
      </div>
    </section>

    <footer>
      <small>© <span id="y"></span> Allan Ng'ang'a · MindSpring Case Study</small>
    </footer>
  </main>

  <div class="floating" aria-label="Quick actions">
    <button class="fab" id="openDrawer" type="button" aria-haspopup="dialog" aria-controls="drawer" aria-expanded="false">
      <svg viewBox="0 0 24 24" fill="none" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" aria-hidden="true">
        <path d="M12 20h9"></path>
        <path d="M12 4h9"></path>
        <path d="M3 6l1 1 2-2"></path>
        <path d="M3 12l1 1 2-2"></path>
        <path d="M3 18l1 1 2-2"></path>
        <path d="M12 12h9"></path>
        <path d="M12 18h9"></path>
      </svg>
      <span>Decision Log</span>
    </button>
  </div>

  <div class="drawer-overlay" id="overlay" aria-hidden="true"></div>
  <aside class="drawer" id="drawer" role="dialog" aria-modal="true" aria-label="Decision log">
    <div class="drawer-head">
      <div>
        <div class="drawer-title">Decision Log</div>
        <div class="drawer-sub">Key calls we made, and what we traded off.</div>
      </div>
      <button class="close" id="closeDrawer" type="button" aria-label="Close decision log">
        <svg viewBox="0 0 24 24" fill="none" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" aria-hidden="true">
          <path d="M18 6L6 18"></path>
          <path d="M6 6l12 12"></path>
        </svg>
      </button>
    </div>

    <div class="drawer-body">
      <div class="decision"><h4>We avoided clinical positioning.</h4><p>We designed for emotional safety and everyday reflection, not diagnosis or treatment claims.</p><div class="meta-row"><span class="pill">Risk reduced: harm</span><span class="pill beige">Trade-off: less “authority”</span></div></div>
      <div class="decision"><h4>We prioritized micro-actions over deep sessions.</h4><p>Low-effort check-ins lowered cognitive load and improved return likelihood.</p><div class="meta-row"><span class="pill">Goal: habit formation</span><span class="pill beige">Trade-off: less depth/session</span></div></div>
      <div class="decision"><h4>AI mirrors; it doesn’t prescribe.</h4><p>We intentionally limited “advice-giving” to avoid unsafe authority and over-reliance.</p><div class="meta-row"><span class="pill">Ethical AI</span><span class="pill beige">Trade-off: fewer “wow” moments</span></div></div>
      <div class="decision"><h4>Optionality is part of the UX.</h4><p>Skipping reflection is allowed. We avoided streaks to prevent shame spirals.</p><div class="meta-row"><span class="pill">Boundaries</span><span class="pill beige">Trade-off: lower forced engagement</span></div></div>
      <div class="decision"><h4>Privacy is explicit, not buried.</h4><p>Consent and control were treated as product features, not compliance chores.</p><div class="meta-row"><span class="pill">Trust driver</span><span class="pill beige">Trade-off: more onboarding steps</span></div></div>
      <div class="decision"><h4>Community is opt-in, not default.</h4><p>We prioritized psychological safety and moderation complexity before scaling social features.</p><div class="meta-row"><span class="pill">Safety first</span><span class="pill beige">Trade-off: slower network effects</span></div></div>
    </div>
  </aside>

  <div class="modal-overlay" id="videoOverlay" aria-hidden="true"></div>
  <div class="modal" id="videoModal" role="dialog" aria-modal="true" aria-label="MindSpring walkthrough video">
    <div class="modal-card">
      <div class="modal-head">
        <div class="modal-title">MindSpring walkthrough</div>
        <button class="modal-close" id="closeVideo" type="button" aria-label="Close video">✕</button>
      </div>
      <div class="modal-body">
        <div class="video-frame">
          <video id="walkthroughVideo" controls playsinline preload="metadata">
            <source src="assets/video/mindspring-walkthrough.mp4" type="video/mp4">
            Your browser does not support the video tag.
          </video>
        </div>
      </div>
    </div>
  </div>

  <script>
    document.getElementById('y').textContent = new Date().getFullYear();

    const bar = document.getElementById('bar');
    const pct = document.getElementById('pct');
    const pct2 = document.getElementById('pct2');
    const sections = Array.from(document.querySelectorAll('main section[id]'));
    const total = sections.length;
    const titleFor = (s) => (s.dataset.title || s.id);

    function updateProgress(){
      const doc = document.documentElement;
      const scrollTop = doc.scrollTop || document.body.scrollTop;
      const scrollHeight = (doc.scrollHeight || document.body.scrollHeight) - doc.clientHeight;
      const progress = scrollHeight > 0 ? Math.min(1, Math.max(0, scrollTop / scrollHeight)) : 0;
      const percent = Math.round(progress * 100);
      if(bar) bar.style.width = percent + '%';
    }

    const revealEls = document.querySelectorAll('.reveal');
    const staggerEls = document.querySelectorAll('.stagger');

    const io = new IntersectionObserver((entries) => {
      entries.forEach(entry => {
        if(entry.isIntersecting){
          entry.target.classList.add('in');
          io.unobserve(entry.target);
        }
      });
    }, { threshold: 0.15 });
    revealEls.forEach(el => io.observe(el));

    const ioStagger = new IntersectionObserver((entries) => {
      entries.forEach(entry => {
        if(entry.isIntersecting){
          entry.target.classList.add('in');
          const kids = Array.from(entry.target.children);
          kids.forEach((k, idx) => { k.style.transitionDelay = (idx * 80) + 'ms'; });
          ioStagger.unobserve(entry.target);
        }
      });
    }, { threshold: 0.18 });
    staggerEls.forEach(el => ioStagger.observe(el));

    const navLinks = Array.from(document.querySelectorAll('#subnav a'));
    const setActive = (id) => {
      navLinks.forEach(a => {
        const isActive = a.getAttribute('href') === ('#' + id);
        a.classList.toggle('active', isActive);
      });
      const idx = Math.max(1, sections.findIndex(s => s.id === id) + 1);
      if (pct) pct.firstChild.nodeValue = titleFor(sections[idx - 1]) + " ";
      if (pct2) pct2.textContent = `${idx}/${total}`;
    };

    const ioSections = new IntersectionObserver((entries) => {
      const visible = entries
        .filter(e => e.isIntersecting)
        .sort((a,b) => b.intersectionRatio - a.intersectionRatio)[0];
      if(visible && visible.target && visible.target.id) setActive(visible.target.id);
    }, { rootMargin: '-35% 0px -55% 0px', threshold: [0.15, 0.25, 0.4] });
    sections.forEach(s => ioSections.observe(s));

    document.addEventListener('scroll', updateProgress, { passive: true });
    updateProgress();

    const timeline = document.getElementById('timeline');
    const steps = timeline ? Array.from(timeline.querySelectorAll('.step')) : [];
    const ioTimeline = new IntersectionObserver((entries) => {
      entries.forEach(entry => {
        if(entry.isIntersecting){
          steps.forEach((s, idx) => setTimeout(() => s.classList.add('in'), idx * 140));
          ioTimeline.unobserve(entry.target);
        }
      });
    }, { threshold: 0.25 });
    if(timeline) ioTimeline.observe(timeline);

    const personaToggle = document.getElementById('personaToggle');
    const personaCard = document.getElementById('personaCard');
    if(personaToggle && personaCard){
      personaToggle.addEventListener('click', () => {
        const expanded = personaCard.classList.toggle('expanded');
        personaToggle.setAttribute('aria-expanded', expanded ? 'true' : 'false');
      });
    }

    const emmaFlip = document.getElementById('emmaFlip');
    let emmaInterval = null;
    let emmaLastUserAction = Date.now();

    function toggleEmmaFlip(){
      if(!emmaFlip) return;
      emmaFlip.classList.toggle('is-flipped');
    }
    function startEmmaAutoFlip(){
      if(!emmaFlip) return;
      if (emmaInterval) clearInterval(emmaInterval);
      emmaInterval = setInterval(() => {
        const now = Date.now();
        if (now - emmaLastUserAction < 1500) return;
        toggleEmmaFlip();
      }, 5000);
    }
    if (emmaFlip){
      emmaFlip.addEventListener('click', () => {
        emmaLastUserAction = Date.now();
        toggleEmmaFlip();
      });
      emmaFlip.addEventListener('keydown', (e) => {
        if (e.key === 'Enter' || e.key === ' '){
          e.preventDefault();
          emmaLastUserAction = Date.now();
          toggleEmmaFlip();
        }
      });
      startEmmaAutoFlip();
    }

    const openDrawer = document.getElementById('openDrawer');
    const closeDrawer = document.getElementById('closeDrawer');
    const overlay = document.getElementById('overlay');

    function openLog(){
      document.body.classList.add('drawer-open');
      openDrawer.setAttribute('aria-expanded','true');
      overlay.setAttribute('aria-hidden','false');
      setTimeout(() => closeDrawer.focus(), 80);
    }
    function closeLog(){
      document.body.classList.remove('drawer-open');
      openDrawer.setAttribute('aria-expanded','false');
      overlay.setAttribute('aria-hidden','true');
      openDrawer.focus();
    }
    if(openDrawer) openDrawer.addEventListener('click', openLog);
    if(closeDrawer) closeDrawer.addEventListener('click', closeLog);
    if(overlay) overlay.addEventListener('click', closeLog);

    const openVideoBtn = document.getElementById('openVideo');
    const videoOverlay = document.getElementById('videoOverlay');
    const closeVideoBtn = document.getElementById('closeVideo');
    const walkthroughVideo = document.getElementById('walkthroughVideo');

    function openVideo(){
      document.body.classList.add('modal-open');
      videoOverlay.setAttribute('aria-hidden','false');
      setTimeout(() => closeVideoBtn && closeVideoBtn.focus(), 60);
    }
    function closeVideo(){
      document.body.classList.remove('modal-open');
      videoOverlay.setAttribute('aria-hidden','true');
      if (walkthroughVideo){
        walkthroughVideo.pause();
        walkthroughVideo.currentTime = 0;
      }
      if (openVideoBtn) openVideoBtn.focus();
    }
    if (openVideoBtn) openVideoBtn.addEventListener('click', openVideo);
    if (closeVideoBtn) closeVideoBtn.addEventListener('click', closeVideo);
    if (videoOverlay) videoOverlay.addEventListener('click', closeVideo);

    document.addEventListener('keydown', (e) => {
      if(e.key === 'Escape'){
        if (document.body.classList.contains('drawer-open')) closeLog();
        if (document.body.classList.contains('modal-open')) closeVideo();
      }
    });
  </script>

</body>
</html>
